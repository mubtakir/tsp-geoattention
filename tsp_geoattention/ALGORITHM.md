# ๐ง ุดุฑุญ ุงูุฎูุงุฑุฒููุฉ ุงููุฌููุฉ TSP-GeoAttention

## ๐ ุงููุญุชููุงุช
1. [ุงูููุฏูุฉ](#ุงูููุฏูุฉ)
2. [ุงูููุงููู ุงูุฃุณุงุณูุฉ](#ุงูููุงููู-ุงูุฃุณุงุณูุฉ)
3. [ุฎุทูุงุช ุงูุฎูุงุฑุฒููุฉ](#ุฎุทูุงุช-ุงูุฎูุงุฑุฒููุฉ)
4. [ุงูุชุนููุฏ ุงูุฒููู](#ุงูุชุนููุฏ-ุงูุฒููู)
5. [ุงูุฃูุซูุฉ](#ุงูุฃูุซูุฉ)

---

## ุงูููุฏูุฉ

ูุณุฃูุฉ ุงูุจุงุฆุน ุงููุชุฌูู (TSP) ูู ูุดููุฉ NP-Hard ููุงุณูููุฉ. ุงูุญู ุงูุฃูุซู ูุชุทูุจ ูุญุต O(n!) ูู ุงูุชุจุงุฏูู.

ุงูุญู ุงููุฌูู ูุฌูุน ุจูู ุซูุงุซุฉ ููุงููู:
- **ุงูููุฏุณุฉ ุงูููุงููุฉ**: ุชูุณูู ุงููุดููุฉ ุฅูู ุฃุฌุฒุงุก ุฃุตุบุฑ
- **ุงูููุฒูุงุก**: ูุจุฏุฃ ุงููุนู ุงูุฃุฏูู
- **ุงูุฐูุงุก ุงูุงุตุทูุงุนู**: ุขููุฉ ุงูุงูุชุจุงู

---

## ุงูููุงููู ุงูุฃุณุงุณูุฉ

### 1. ุงูููุฏุณุฉ ุงูููุงููุฉ (Geo-Zoning)

```
ุงููุฏููุฉ ุงูุฃุตููุฉ (n ูุฏููุฉ)
        โ
    [Bounding Box]
        โ
    [ุดุจูุฉ mรm]
        โ
    [ุฎูุงูุง ูุญููุฉ]
```

**ุงููุงุฆุฏุฉ**: ุชูููู ูุถุงุก ุงูุจุญุซ ูู O(n!) ุฅูู ูุดุงูู ุฃุตุบุฑ

### 2. ูุจุฏุฃ ุงููุนู ุงูุฃุฏูู (Principle of Least Action)

ูู ุงูููุฒูุงุก ุงูููุงุณูููุฉ:
```
S = โซ L dt = โซ (T - V) dt
```

**ุงูุชุทุจูู ุนูู TSP**:
```
Action(ูุณุงุฑ) = โ ุงููุณุงูุงุช ุจูู ุงููุฏู
ูุจุญุซ ุนู ุงููุณุงุฑ ุฐู Action ุงูุฃุฏูู
```

### 3. ุขููุฉ ุงูุงูุชุจุงู (Attention Mechanism)

ูู ููุงุฐุฌ ุงูุชุฑุงูุณููุฑูุฑ:
```
Attention(Q, K, V) = softmax(QยทK^T / โd_k) ยท V
```

**ุงูุชุทุจูู ุนูู TSP**:
```
Attention(ูุฏููุฉ_ุญุงููุฉ, ูุฏู_ุฃุฎุฑู) = softmax(-ุงููุณุงูุงุช / โd_k)
```

---

## ุฎุทูุงุช ุงูุฎูุงุฑุฒููุฉ

### ุงูุฎุทูุฉ 1: ุชูุณูู ุงููุณุงุญุฉ

```python
# ุญุณุงุจ ุงููุฑุจุน ุงููุญูุท
min_x, min_y = cities.min()
max_x, max_y = cities.max()

# ุฅุถุงูุฉ ูุงูุด
margin = 0.1 * max(width, height)

# ุชูุณูู ุฅูู ุดุจูุฉ
cell_width = (max_x - min_x) / grid_size
cell_height = (max_y - min_y) / grid_size
```

**ุงูุชุนููุฏ**: O(n)

### ุงูุฎุทูุฉ 2: ุชุนููู ุงููุฏู ุฅูู ุงูุฎูุงูุง

```python
for each city (x, y):
    col = (x - min_x) / cell_width
    row = (y - min_y) / cell_height
    cell_to_cities[cell].append(city)
```

**ุงูุชุนููุฏ**: O(n)

### ุงูุฎุทูุฉ 3: ุงููุณุญ ุงูุญูุฒููู

```
ุชุฑุชูุจ ุงูุฎูุงูุง ูู ุงููุญูุท ุฅูู ุงููุฑูุฒ:

[1][2][3]
[8][9][4]
[7][6][5]
```

**ุงููุงุฆุฏุฉ**: ุชูููู ุงูููุฒุงุช ุงูุนุดูุงุฆูุฉ ุจูู ุงูุฎูุงูุง

**ุงูุชุนููุฏ**: O(mยฒ) ุญูุซ m = grid_size

### ุงูุฎุทูุฉ 4: ุงูุงูุชุจุงู ุจูู ุงูุฎูุงูุง

```python
for each cell in spiral_order:
    # ุญุณุงุจ ุงููุณุงูุฉ ุฅูู ุงูุฎูุงูุง ุงููุชุจููุฉ
    scores = [-distance(current_center, other_center) 
              for other in remaining_cells]
    
    # ุชุทุจูู softmax
    probs = softmax(scores)
    
    # ุงุฎุชูุงุฑ ุงูุฎููุฉ ุงูุชุงููุฉ
    next_cell = argmax(probs)
```

**ุงูุชุนููุฏ**: O(mยฒ log m)

### ุงูุฎุทูุฉ 5: ุญู ูุญูู (Intra-Cell TSP)

```python
for each cell:
    # Nearest Neighbor + Attention
    current = first_city_in_cell
    unvisited = remaining_cities_in_cell
    
    while unvisited:
        # ุญุณุงุจ ุงูุงูุชุจุงู
        scores = [-distance(current, city) for city in unvisited]
        probs = softmax(scores)
        
        # ุงุฎุชูุงุฑ ุงููุฏููุฉ ุงูุชุงููุฉ
        next_city = argmax(probs)
        tour.append(next_city)
        unvisited.remove(next_city)
```

**ุงูุชุนููุฏ**: O(kยฒ) ุญูุซ k = ูุชูุณุท ุงููุฏู ูู ุงูุฎููุฉ

### ุงูุฎุทูุฉ 6: ุงูุชุญุณูู ุงูุนุงููู (2-opt)

```python
for iteration in range(max_iterations):
    # ุงุฎุชูุงุฑ ุนุดูุงุฆู ูููุทุชูู
    i, j = random_choice(tour_length, 2)
    
    # ุนูุณ ุงูุฌุฒุก ุจููููุง
    new_tour = tour[:i] + tour[i:j][::-1] + tour[j:]
    
    # ูุจูู ุฅุฐุง ูุงู ุฃูุถู
    if distance(new_tour) < distance(tour):
        tour = new_tour
```

**ุงูุชุนููุฏ**: O(iterations ร nยฒ)

---

## ุงูุชุนููุฏ ุงูุฒููู

| ุงููุฑุญูุฉ | ุงูุชุนููุฏ |
|--------|--------|
| ุชูุณูู ุงููุณุงุญุฉ | O(n) |
| ุชุนููู ุงููุฏู | O(n) |
| ุงููุณุญ ุงูุญูุฒููู | O(mยฒ) |
| ุงูุงูุชุจุงู ุจูู ุงูุฎูุงูุง | O(mยฒ log m) |
| ุงูุญู ุงููุญูู | O(n ร k) ุญูุซ k โ n/mยฒ |
| ุงูุชุญุณูู ุงูุนุงููู | O(iterations ร nยฒ) |
| **ุงูุฅุฌูุงูู** | **O(nยฒ log n)** ุชูุฑูุจูุง |

**ููุงุฑูุฉ**:
- ุงูุญู ุงูุฃูุซู: O(n!)
- ุงูุญู ุงููุฌูู: O(nยฒ log n)
- ุชุญุณู: ูู 10! = 3.6M ุฅูู 10ยฒ log 10 โ 664

---

## ุงูุฃูุซูุฉ

### ูุซุงู 1: 4 ูุฏู ูู ูุฑุจุน

```
ุงููุฏู: (0,0), (1,0), (1,1), (0,1)
Grid Size: 2

ุงูุฎูุงูุง:
[0,0] โ ูุฏููุฉ 0
[0,1] โ ูุฏููุฉ 1
[1,1] โ ูุฏููุฉ 2
[1,0] โ ูุฏููุฉ 3

ุงููุณุญ ุงูุญูุฒููู: [0,0] โ [0,1] โ [1,1] โ [1,0]

ุงููุณุงุฑ ุงูููุงุฆู: 0 โ 1 โ 2 โ 3 โ 0
ุงููุณุงูุฉ: 4.0
```

### ูุซุงู 2: 8 ูุฏู ุนุดูุงุฆูุฉ

```
Grid Size: 3 (ุดุจูุฉ 3ร3)

ุงูุฎูุงูุง ุงููุดุบููุฉ: 6 ุฎูุงูุง
ุงูุฎูุงูุง ุงููุงุฑุบุฉ: 3 ุฎูุงูุง

ุงููุณุญ ุงูุญูุฒููู ูุชุฌุงูู ุงูุฎูุงูุง ุงููุงุฑุบุฉ
ุงูุงูุชุจุงู ูุฎุชุงุฑ ุฃูุถู ุชุฑุชูุจ ููุฎูุงูุง ุงููุดุบููุฉ
```

---

## ุงููุฒุงูุง ูุงูุนููุจ

### โ ุงููุฒุงูุง
- ุณุฑุนุฉ ุนูููุฉ: O(nยฒ log n) ุจุฏูุงู ูู O(n!)
- ูุงุจููุฉ ุงูุชูุณุน: ูุนูู ูุน ุขูุงู ุงููุฏู
- ูุฑููุฉ: ูุฏุนู ุฃููุงุน ูุณุงูุงุช ูุฎุชููุฉ
- ุฐูุงุก ููุงูู: ูุณุชููุฏ ูู ุงูุจููุฉ ุงูุฌุบุฑุงููุฉ

### โ๏ธ ุงูุนููุจ
- ูุง ูุถูู ุงูุฃูุซููุฉ (NP-Hard)
- ูุนุชูุฏ ุนูู ุงุฎุชูุงุฑ grid_size
- ูุฏ ูุง ูููู ุฃูุซู ููุชูุฒูุนุงุช ุบูุฑ ุงูููุชุธูุฉ

---

## ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

1. **Quadtree**: ุชูุณูู ุชูููู ุจุฏู ุงูุดุจูุฉ ุงูุซุงุจุชุฉ
2. **ุชุนูู ุนููู**: ุชุฏุฑูุจ ูููุฐุฌ ูุชุญุณูู ุฃูุฒุงู ุงูุงูุชุจุงู
3. **Genetic Algorithm**: ุฏูุฌ ูุน ุฎูุงุฑุฒููุงุช ุชุทูุฑูุฉ
4. **Parallel Processing**: ูุนุงูุฌุฉ ูุชูุงุฒูุฉ ููุฎูุงูุง

---

**ุงูุจุงุญุซ**: ุจุงุณู ูุญูู ุนุจุฏุงููู

